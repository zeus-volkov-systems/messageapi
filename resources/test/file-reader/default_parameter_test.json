{
    "fields": [
        {
            "id": "file-path",
            "type": "string",
            "required": true
        }
    ],
    "condition-factory": "gov.noaa.messageapi.factories.SimpleConditionFactory",
    "conditions": [
        {
            "id": "is-relative-path",
            "type": "comparison",
            "operator": "contains",
            "field": "file-path",
            "value": "{}"
        }
    ],
    "collections": [
        {
            "id": "coll-1",
            "classifiers": {},
            "fields": [
                "file-path"
            ],
            "conditions": [
                "is-relative-path"
            ]
        }
    ],
    "transformations": [
        {
            "id": "trans-1",
            "plugin": "gov.noaa.messageapi.test.transformations.FixRelativePathsTransformation",
            "constructor": {
                "transform-key": "file-collection"
            },
            "records": {
                "file-collection": {
                    "COLLECTION": "coll-1"
                }
            },
            "fields": [
                "file-path"
            ]
        }
    ],
    "endpoints": [{
        "plugin": "gov.noaa.messageapi.test.endpoints.InMemoryFileReader",
        "connections": [
            {
                "id": "conn-1",
                "transformations": [
                    "trans-1"
                ],
                "constructor": {
                    "file-fields": "file-path"
                },
                "fields": [
                    "value",
                    "number",
                    "length"
                ]
            }
        ]
    }]
}